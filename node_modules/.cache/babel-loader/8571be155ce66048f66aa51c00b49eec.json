{"ast":null,"code":"var _jsxFileName = \"/Users/rubihenjaya/Desktop/batch14/siswa-react/src/components/SiswaBox.js\";\nimport React from 'react';\nimport SiswaTable from './SiswaTable';\nimport SiswaForm from './SiswaForm';\nimport axios from 'axios';\nconst request = axios.create({\n  baseURL: 'http://localhost:3000',\n  timeout: 1000,\n  headers: {\n    'X-Custom-Header': 'foobar'\n  }\n});\nexport default class SiswaBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addData = siswa => {\n      let id = Date.now();\n      this.setState(prevState => ({\n        data: [...prevState.data, {\n          id,\n          nama: siswa.nama,\n          umur: siswa.umur,\n          sent: true\n        }]\n      }));\n      request.post('/users', {\n        id: id,\n        nama: siswa.nama,\n        umur: siswa.umur\n      }).then(function (response) {}).catch(function (error) {\n        this.setState(prevState => ({\n          data: prevState.data.map(item => {\n            if (id == item.id) {\n              item.sent = false;\n            }\n\n            return item;\n          })\n        }));\n      });\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    request.get('/users').then(function (response) {\n      let data = response.data.map(item => {\n        item.sent = true;\n        return item;\n      });\n      this.setState({\n        data: data\n      });\n    }.bind(this)).catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  render() {\n    console.log(this.state.data);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Daftar Siswa\"), React.createElement(SiswaTable, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(SiswaForm, {\n      addData: this.addData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/rubihenjaya/Desktop/batch14/siswa-react/src/components/SiswaBox.js"],"names":["React","SiswaTable","SiswaForm","axios","request","create","baseURL","timeout","headers","SiswaBox","Component","constructor","props","addData","siswa","id","Date","now","setState","prevState","data","nama","umur","sent","post","then","response","catch","error","map","item","state","componentDidMount","get","bind","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport SiswaTable from './SiswaTable';\nimport SiswaForm from './SiswaForm';\n\nimport axios from 'axios';\n\nconst request = axios.create({\n  baseURL: 'http://localhost:3000',\n  timeout: 1000,\n  headers: {'X-Custom-Header': 'foobar'}\n});\n\nexport default class SiswaBox extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {data: []}\n  }\n\n  componentDidMount(){\n    request.get('/users')\n    .then(function (response) {\n      let data = response.data.map(item => {\n        item.sent = true;\n        return item;\n      })\n      this.setState({data: data})\n    }.bind(this))\n    .catch(function (error) {\n      // handle error\n      console.log(error);\n    })\n  }\n\n  addData = (siswa) => {\n    let id = Date.now();\n    this.setState((prevState)=> ({\n      data: [...prevState.data, {id, nama: siswa.nama, umur: siswa.umur, sent: true}]\n    }))\n    request.post('/users',{\n      id: id,\n      nama: siswa.nama,\n      umur: siswa.umur\n    })\n    .then(function (response) {\n\n    })\n    .catch(function (error) {\n      this.setState((prevState)=> ({\n        data: prevState.data.map(item => {\n          if(id == item.id){\n            item.sent = false;\n          }\n          return item;\n        })\n      }))\n    })\n  }\n\n  render(){\n    console.log(this.state.data);\n    return (\n      <div className=\"container\">\n      <h1>Daftar Siswa</h1>\n      <SiswaTable data={this.state.data} />\n      <SiswaForm addData={this.addData} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}