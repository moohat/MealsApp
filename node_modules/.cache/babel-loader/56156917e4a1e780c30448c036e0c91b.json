{"ast":null,"code":"var _jsxFileName = \"/home/refixzcorp/Desktop/MealsApp/src/components/MealsBox.js\";\n\n/* eslint-disable no-dupe-class-members */\nimport React from 'react';\nimport MealsTable from './MealsTable';\nimport MealsForm from './MealsForm';\nimport { request } from '../constans';\nexport default class MealsBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addData = meals => {\n      this.setState(prevState => ({\n        data: [...prevState.data, {\n          id: prevState.data.reduce((maxId, data) => Math.max(data.id, maxId), -1) + 1,\n          name: meals.name,\n          type: meals.type,\n          sent: true\n        }]\n      }));\n      request.post('food-category.store', {\n        name: meals.name,\n        type: meals.type\n      }).then(function (response) {\n        console.log(response.data);\n      }).catch(function (error) {\n        this.setState(prevState => ({\n          data: prevState.data.map(item => {\n            // if(id === item.id){\n            //   item.sent = false;z\n            // }\n            return item;\n          })\n        }));\n      }.bind(this));\n    };\n\n    this.editData = meals => {\n      const _this$state = this.state,\n            name = _this$state.name,\n            type = _this$state.type;\n      request.post(`food-category.update/?id=${this.props.meals.id}&name=${name}&type=${type}`, {\n        name: name,\n        type: type\n      }).then(result => {\n        console.log('data handleEditSave > ', name, type);\n        this.setState({\n          editButton: false,\n          name: \"\",\n          state: \"\"\n        }); // this.setState({ name: \"\", state:\"\" });\n      }).catch(e => {\n        console.log(e);\n      });\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    // const self = this;\n    request.post('datatable.food-category').then(result => {\n      console.log(result.data.data);\n      this.setState({\n        data: result.data.data\n      });\n    }).catch(error => console.log(error));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Meals List\"), React.createElement(MealsForm, {\n      addData: this.addData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(MealsTable, {\n      data: this.state.data,\n      editData: this.editData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/refixzcorp/Desktop/MealsApp/src/components/MealsBox.js"],"names":["React","MealsTable","MealsForm","request","MealsBox","Component","constructor","props","addData","meals","setState","prevState","data","id","reduce","maxId","Math","max","name","type","sent","post","then","response","console","log","catch","error","map","item","bind","editData","state","result","editButton","e","componentDidMount","render"],"mappings":"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","sourcesContent":["/* eslint-disable no-dupe-class-members */\nimport React from 'react';\n\nimport MealsTable from './MealsTable';\nimport MealsForm from './MealsForm';\nimport {request} from '../constans';\n\n\nexport default class MealsBox extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {data: []};\n  }\n\n  componentDidMount() {\n    // const self = this;\n    request.post('datatable.food-category').then((result) => {\n        console.log(result.data.data);\n        this.setState({\n            data: result.data.data,\n        });\n    })\n        .catch(error => console.log(error));\n\n}\n\n  addData = (meals) => {\n    this.setState((prevState)=> ({\n            \n      data: [...prevState.data, {id: prevState.data.reduce((maxId, data) => Math.max(data.id, maxId), -1) + 1, name: meals.name, type: meals.type, sent: true}]\n    }))\n    request.post('food-category.store',{\n      name: meals.name,\n      type: meals.type\n    })\n    .then(function (response) {\nconsole.log(response.data);\n\n    })\n    .catch(function (error) {\n      this.setState((prevState)=> ({\n        data: prevState.data.map(item => {\n          // if(id === item.id){\n          //   item.sent = false;z\n          // }\n          return item;\n        })\n      }))\n    }.bind(this))\n  }\n\n\n  editData = (meals) =>{\n    const {  name, type } = this.state;\n    \n    request.post(`food-category.update/?id=${this.props.meals.id}&name=${name}&type=${type}`, {\n      name: name,\n      type: type\n    }).then(result => {\n      console.log('data handleEditSave > ', name, type);\n      this.setState({ editButton: false, name: \"\", state:\"\",  });\n      \n      // this.setState({ name: \"\", state:\"\" });\n    }).catch(e => {\n    console.log(e);\n});\n  }\n\n \n\n  render(){\n    return (\n      <div className=\"container\">\n      <h1>Meals List</h1>\n      \n      <MealsForm addData={this.addData} />\n      <MealsTable data={this.state.data} editData={this.editData} />\n      \n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}