{"ast":null,"code":"var _jsxFileName = \"/home/refixzcorp/Desktop/siswa-react/src/components/SiswaBox.js\";\n\n/* eslint-disable no-dupe-class-members */\nimport React from 'react';\nimport SiswaTable from './SiswaTable';\nimport SiswaForm from './SiswaForm';\nimport axios from 'axios';\nconst API_URL = 'http://api.wibs.sch.id/v2/meal/post';\nconst request = axios.create({\n  baseURL: API_URL,\n  timeout: 1000,\n  headers: {\n    'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2'\n  }\n});\nexport default class SiswaBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addData = meals => {\n      let id = Date.now();\n      this.setState(prevState => ({\n        data: [...prevState.data, {\n          id,\n          name: meals.name,\n          type: meals.type,\n          sent: true\n        }]\n      }));\n      request.post('/food-category.store', {\n        id: id,\n        name: meals.name,\n        type: meals.type\n      }).then(function (response) {\n        console.log(response.data);\n      }).catch(function (error) {\n        this.setState(prevState => ({\n          data: prevState.data.map(item => {\n            if (id === item.id) {\n              item.sent = false;\n            }\n\n            return item;\n          })\n        }));\n      }.bind(this));\n    };\n\n    this.state = {\n      data: []\n    };\n  } // componentDidMount(){\n  //   request.post('datatable.food-category',{\n  //     headers:{'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2' }\n  //   })\n  //   .then(function (response) {\n  //     let data = response.data.map(item => {\n  //       item.sent = true;\n  //       return item;\n  //     })\n  //     this.setState({data: data});\n  //     console.log(response.data);\n  //   }.bind(this))\n  //   .catch(function (error) {\n  //     // handle error\n  //     console.log(error);\n  //   })\n  // }\n\n\n  componentDidMount() {\n    // const self = this;\n    request.post('http://api.wibs.sch.id/v2/meal/post/datatable.food-category', {\n      headers: {\n        'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2'\n      }\n    }).then(result => {\n      console.log(result.data);\n      this.setState({\n        meals: result.data\n      });\n    }).catch(error => console.log(error));\n  }\n\n  render() {\n    // console.log(this.state.data);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Meals List\"), React.createElement(SiswaTable, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(SiswaForm, {\n      addData: this.addData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/refixzcorp/Desktop/siswa-react/src/components/SiswaBox.js"],"names":["React","SiswaTable","SiswaForm","axios","API_URL","request","create","baseURL","timeout","headers","SiswaBox","Component","constructor","props","addData","meals","id","Date","now","setState","prevState","data","name","type","sent","post","then","response","console","log","catch","error","map","item","bind","state","componentDidMount","result","render"],"mappings":"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","sourcesContent":["/* eslint-disable no-dupe-class-members */\nimport React from 'react';\n\nimport SiswaTable from './SiswaTable';\nimport SiswaForm from './SiswaForm';\n\nimport axios from 'axios';\nconst API_URL = 'http://api.wibs.sch.id/v2/meal/post';\n\nconst request = axios.create({\n  baseURL: API_URL,\n  timeout: 1000,\n  headers: {'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2'}\n});\n\nexport default class SiswaBox extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {data: []}\n  }\n\n  // componentDidMount(){\n  //   request.post('datatable.food-category',{\n  //     headers:{'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2' }\n  //   })\n  //   .then(function (response) {\n  //     let data = response.data.map(item => {\n  //       item.sent = true;\n  //       return item;\n  //     })\n  //     this.setState({data: data});\n  //     console.log(response.data);\n      \n  //   }.bind(this))\n  //   .catch(function (error) {\n  //     // handle error\n  //     console.log(error);\n  //   })\n  // }\n\n  componentDidMount() {\n    // const self = this;\n    request.post('http://api.wibs.sch.id/v2/meal/post/datatable.food-category',{\n      headers:{'Application-Token': 'geSzgVahOlowulcgHEtQmu9Ybofk1lRnPFd3V5atSEu1SD1dt2' }\n    }).then((result) => {\n        console.log(result.data);\n        this.setState({\n            meals: result.data,\n        });\n    })\n        .catch(error => console.log(error));\n\n}\n\n  addData = (meals) => {\n    let id = Date.now();\n    this.setState((prevState)=> ({\n      data: [...prevState.data, {id, name: meals.name, type: meals.type, sent: true}]\n    }))\n    request.post('/food-category.store',{\n      id: id,\n      name: meals.name,\n      type: meals.type\n    })\n    .then(function (response) {\nconsole.log(response.data);\n\n    })\n    .catch(function (error) {\n      this.setState((prevState)=> ({\n        data: prevState.data.map(item => {\n          if(id === item.id){\n            item.sent = false;\n          }\n          return item;\n        })\n      }))\n    }.bind(this))\n  }\n\n  render(){\n    // console.log(this.state.data);\n    return (\n      <div className=\"container\">\n      <h1>Meals List</h1>\n      <SiswaTable data={this.state.data} />\n      <SiswaForm addData={this.addData} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}